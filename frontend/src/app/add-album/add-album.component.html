<app-header [display]="enableSearch"></app-header>
<div class="row justify-content-center" style="margin-top: 60px;">
    <div class="col-md-6">
        <h2 class="text-center">Add Album</h2> <br/>
        <form name="form" #albumForm="ngForm" (ngSubmit)="albumForm.form.valid && addAlbum(albumForm)" novalidate>
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" name="title" class="form-control" #title="ngModel" [(ngModel)]="album.title" required>
                <div *ngIf="isFieldValid(title) || albumForm.submitted">
                    <div *ngIf="title.errors && title.errors['required']" class="help-block text-danger">Title is required</div>
                </div>
            </div>
            <div class="form-group">
                <label for="year">Year</label>
                <input type="text" name="year" class="form-control" #year="ngModel" [(ngModel)]="album.year" pattern="^[0-9]*$" required>
                <div *ngIf="isFieldValid(year) || albumForm.submitted">
                    <div *ngIf="year.errors && year.errors['required']" class="help-block text-danger">Year is required</div>
                    <div *ngIf="year.errors && year.errors['pattern']" class="help-block text-danger">Only numbers allowed</div>
                </div>
            </div>
            <div class="form-group text-center" style="margin-top: 30px;">
                <button class="btn btn-primary">Add Album</button>
                <a [routerLink]="['/albums']" class="btn btn-link">Cancel</a>
            </div>
        </form>
        <div *ngIf="hasSuccess" class="alert alert-success confirmation">
            Album has been added successfully.<br/> Add another album, or click Cancel to go back.
        </div>
        <div *ngIf="hasError" class="alert alert-danger">
            {{errorMessage}}
        </div>
    </div>
</div>
